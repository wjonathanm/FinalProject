doctype html
html
    head
        meta(charset='UTF-8')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js')
        //script(src='/js/EmployeeScript.js').
        //    var xValues = ["Italy", "France", "Spain", "USA", "Argentina"];
        //    var yValues = [55, 49, 44, 24, 15];
        //    var barColors = [
        //        "#b91d47",
        //        "#00aba9",
        //        "#2b5797",
        //        "#e8c3b9",
        //        "#1e7145"
        //    ];
        //
        //    new Chart("myChart", {
        //        type: "doughnut",
        //        data: {
        //            labels: xValues,
        //            datasets: [{
        //                backgroundColor: barColors,
        //                data: yValues
        //            }]
        //        },
        //        options: {
        //            title: {
        //                display: true,
        //                text: "World Wide Wine Production 2018"
        //            }
        //        }
        //    });
        //script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js")
        //<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
        //<script src=""js/query-2.1.4.min.js>
        //<script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-core.min.js"></script>
        //<script src="https://cdn.anychart.com/releases/8.0.1/js/anychart-pie.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        link(rel="stylesheet" href="/css/EmployeeView.css")
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js" integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk" crossorigin="anonymous"></script>

    body
        include html/nav.html
        //div.container(style='width: 100%; height: 100%')
        //canvas#myChart(style='width:100%;max-width:600px')
        //
        each row in info
            h2 Welcome #{row.FirstName} #{row.LastName}
                br
                br
                div ID: #{row.EmployeeId}
                div Role: #{row.Role}
                div Supervisor ID: #{row.LeaderId}
                div Hire Date: #{row.HireDate}
            h1 PTO Info
            h2
                br
                div.row
                    div.column Personal
                        div Days Left: #{row.PtoBalancePersonal}
                        div.chart
                            canvas(id="chart1" width="10px" height="10px")
                                script.
                                    window.onload = function () {
                                        var red = "#{red}", green = "#{green}", blue = "#{blue}";
                                        var ctx = document.getElementById("chart1").getContext('2d');
                                        var chart = new Chart(ctx, {
                                            type: 'doughnut',
                                            data: {
                                                labels: ["available", "used"],
                                                datasets: [{
                                                    label: 'Number of votes',
                                                    data: [#{row.PtoBalancePersonal},1],
                                                    backgroundColor: ["green", "red"],
                                                    borderColor: ["black", "black", "black"],
                                                    borderWidth: 1
                                                }],
                                            },
                                            options: {
                                                title: {
                                                    display: true,
                                                    text: "chart",
                                                },
                                                legend: {
                                                    position: 'bottom'
                                                },
                                            }
                                        });
                                    };

                    div.column Sick
                        div Days Left: #{row.PtoBalanceSick}
                            div.chart
                                canvas(id="chart2" width="10px" height="10px")
                                    script.
                                        var red = "#{red}", green = "#{green}", blue = "#{blue}";
                                        var ctx = document.getElementById("chart2").getContext('2d');
                                        var chart = new Chart(ctx, {
                                            type: 'doughnut',
                                            data: {
                                                labels: ["available", "used"],
                                                datasets: [{
                                                    label: 'Number of votes',
                                                    data: [#{row.PtoBalanceSick}, 1],
                                                    backgroundColor: ["green", "red"],
                                                    borderColor: ["black", "black", "black"],
                                                    borderWidth: 1
                                                }],
                                            },
                                            options: {
                                                title: {
                                                    display: true,
                                                    text: "chart",
                                                },
                                                legend: {
                                                    position: 'bottom'
                                                },
                                            }
                                        });
                        //div.donut
                        //    div.hole

                    div.column Vacation
                        div Days Left: #{row.PtoBalanceVacation}
                            div.chart
                                canvas(id="chart3" width="10px" height="10px")
                                    script.
                                        var red = "#{red}", green = "#{green}", blue = "#{blue}";
                                        var ctx = document.getElementById("chart3").getContext('2d');
                                        var chart = new Chart(ctx, {
                                            type: 'doughnut',
                                            data: {
                                                labels: ["available", "used"],
                                                datasets: [{
                                                    label: 'Number of votes',
                                                    data: [#{row.PtoBalanceVacation}, 1],
                                                    backgroundColor: ["green", "red"],
                                                    borderColor: ["black", "black", "black"],
                                                    borderWidth: 1
                                                }],
                                            },
                                            options: {
                                                title: {
                                                    display: true,
                                                    text: "chart",
                                                },
                                                legend: {
                                                    position: 'bottom'
                                                },
                                            }
                                        });


                    div.column Total:
                        div Days Left:#{row.PtoBalanceVacation+row.PtoBalancePersonal+row.PtoBalanceSick}
                            div.chart
                                canvas(id="chart4" width="10px" height="10px")
                                    script.
                                        var red = "#{red}", green = "#{green}", blue = "#{blue}";
                                        var ctx = document.getElementById("chart4").getContext('2d');
                                        var chart = new Chart(ctx, {
                                            type: 'doughnut',
                                            data: {
                                                labels: ["Sick", "Personal", "Vacation"],
                                                datasets: [{
                                                    label: 'Number of votes',
                                                    data: [#{row.PtoBalanceSick}, #{row.PtoBalancePersonal}, #{row.PtoBalanceVacation}],
                                                    backgroundColor: ["red", "green", "blue"],
                                                    borderColor: ["black", "black", "black"],
                                                    borderWidth: 1
                                                }],
                                            },
                                            options: {
                                                title: {
                                                    display: true,
                                                    text: "chart",
                                                },
                                                legend: {
                                                    position: 'bottom'
                                                },
                                            }
                                        });

            h1 Active Requests
            h2
                br
                table.table
                    tr
                        th Date Off
                        th PTO Type
                        th Status
                        th Request Date
                    tr
                        td #{row.StartDate}
                        td #{row.ptoType}
                        td Requested
                        td #{row.RequestDate}

                h3
                    button.b1(class='btn btn-success' type='button' value='Request' onclick='/EmployeePTO') Request